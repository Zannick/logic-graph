name: EbihTests
all:
  with:
    - Ice_Axe
    - Amashilama
    - Boomerang
    - Ledge_Grab
  context:
    save: Ebih > Base Camp > Save Point
  start: Ebih > Base Camp > Save Point

tests:
  - can_reach: Ebih > Ebih East > Corner

  - can_obtain: Infect

  - context:
      flasks: 1
    can_obtain: Melee_Damage

  - start: Ebih > Ebih East > East Ledge
    can_obtain: Remote_Drone

  - start: Ebih > Drone Room > East 4
    context:
      mode: drone
      indra: Ebih > Drone Room > Tree
    can_reach: Ebih > Grid 25,2-6 > Pit

  - start: Ebih > Drone Room > West 6
    with:
      - Infect
      - Remote_Drone
    can_activate: Ebih > Drone Room > Moving Platform > Throw Drone

  - start: Ebih > Ebih East > Corner
    with:
      - Infect
    can_activate: Ebih > Ebih East > Lower Moving Platform > Activate Lift

  - start: Ebih > Ebih East > West 8
    with:
      - Infect
    can_activate: Ebih > Ebih East > Moving Platform > Activate Ride

  - start: Ebih > Ebih East > West 8
    with:
      - Infect
    eventually_reaches: Ebih > Ebih East > Middle Platform

  - start: Ebih > Ebih East > Middle Platform
    can_reach: Ebih > Ebih East > East Ledge

  - start: Ebih > Drone Room > Portal
    with:
      - Infect
    requires:
      context:
        # The other save point requires actions to get through
        save: Ebih > Ebih West > Upper Save
      to_reach: Ebih > Drone Room > Moving Platform