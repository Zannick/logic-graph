name: Ebih Breach
graph_offset: [0, 30]
data:
  realm: breach

areas:
- name: Portals 101  # MARK: Portals 101
  on_entry: $reset_old_area(^newpos)
  data:
    save_point: Save Point
    portal_start: Portal Stand
  map:
    save: [24, 5, 25, 6]
  datamap:
    map_spot:
      save: Menu > Breach Map > MEB Drone
  spots:
    - name: Save Point
      coord: [24.525, 5.6]
      data:
        flipside: Ebih > Drone Room > Portal
      local:
        - to: East 6
          jumps: 1
      exits:
        - to: West Lower Ledge
          req: Slingshot_Hook
          movement: base
          jumps: 2
      actions:
        - name: Save
          do: $save
          tags: [save]
    - name: East 6
      coord: [24.9, 5.6]
      local:
        - to: Save Point
          jumps: 1
      exits:
        - to: Drone Tutorial > West 6
          tags: [xdoor]

    - name: West Lower Ledge
      coord: [24.2, 5.4]
      data:
        flipside: Ebih > Drone Room > Pit Left
      local:
        - to: Save Point
      exits:
        - to: West Nook
          req: Slingshot_Hook
          movement: base
          jumps: 2
    - name: West Nook
      coord: [24.1, 5.0]
      local:
        - to: Save Point
        - to: West Lower Ledge
      exits:
        - to: Middle Gap West
          req: Slingshot_Hook and Drone_Hover
          movement: base
          jumps: 3
        - to: Middle Gap East
          req: Slingshot_Hook and Drone_Hover
          movement: base
          jumps: 3

    - name: East 4
      coord: [24.9, 3.75]
      local:
        - to: Portal Stand
      exits:
        - to: Drone Tutorial > West 4
          tags: [xdoor]
        - to: West 4
          req: Drone_Hover
          movement: base
    - name: Portal Stand
      coord: [24.525, 4.4]
      data:
        flipside: Ebih > Drone Room > Portal Exit
      local:
        - to: Middle Gap East
        - to: Middle Gap West
      exits:
        - to: West Slope
          req: Drone_Hover
          movement: base
          jumps: 1
    - name: Middle Gap East
      coord: [24.4, 4.55]
      local:
        - to: Save Point
        - to: Middle Gap West
        - to: Portal Stand
          jumps: 1
    - name: Middle Gap West
      coord: [24.25, 4.55]
      local:
        - to: Middle Gap East
        - to: Save Point
        - to: West Slope
          jumps: 2
    - name: West Slope
      coord: [24.1, 4.2]
      local:
        - to: Middle Gap West
      exits:
        - to: West 4
          req: Slingshot_Hook and Drone_Hover
          movement: base
          jumps: 2
    - name: West 4
      coord: [24.1, 3.75]
      local:
        - to: Middle Gap East
        - to: Save Point
      exits:
        - to: Snowy Rocks > East 4
          tags: [xdoor]
        - to: East 4
          req: Drone_Hover

- name: Drone Tutorial  # MARK: Drone Tutorial
  on_entry: $reset_old_area(^newpos)
  spots:
    - name: West 6
      coord: [25.1, 5.6]
      local:
        - to: Bottom
      exits:
        - to: Portals 101 > East 6
          tags: [xdoor]
    - name: Bottom
      coord: [25.2, 5.7]
      data:
        flipside: Ebih > Drone Pit > Bush Left
      local:
        - to: West 6
          jumps: 1
        - to: First Rocks
          jumps: 3
      exits:
        - to: First Rocks
          req: Slingshot_Hook
          movement: base
          jumps: 2
    - name: First Rocks
      coord: [25.45, 5.2]
      data:
        flipside: Ebih > Drone Pit > First Rocks
      local:
        - to: West 6
        - to: Bottom
        - to: Second Rocks
          jumps: 3
    - name: Second Rocks
      coord: [25.6, 5.0]
      data:
        flipside: Ebih > Drone Pit > Second Rocks
      local:
        - to: First Rocks
          thru: [25.5, 5.0]
        - to: Above Rocks
          jumps: 3
    - name: Above Rocks
      coord: [25.5, 4.8]
      data:
        flipside: Ebih > Drone Pit > Above Rocks
      local:
        - to: Second Rocks
          thru: [25.6, 4.8]
        - to: Upper Mid-way
          jumps: 2
      exits:
        - to: Upper Mid-way
          req: Slingshot_Hook
          movement: base
          jumps: 1.25
    - name: Upper Mid-way
      coord: [25.4, 4.425]
      data:
        flipside: Ebih > Drone Pit > Upper Mid-way
      local:
        - to: Above Rocks
        - to: Top
          jumps: 4
      exits:
        - to: Top
          req: Slingshot_Hook
          movement: base
          jumps: 2
    - name: Top
      coord: [25.3, 3.75]
      data:
        flipside: Ebih > Drone Pit > Top
      local:
        - to: Upper Mid-way
        - to: West 4
    - name: West 4
      coord: [25.1, 3.75]
      local:
        - to: Top
      exits:
        - to: Portals 101 > East 4
          tags: [xdoor]

- name: Snowy Rocks  # MARK: Snowy Rocks
  on_entry: $reset_old_area(^newpos)
  spots:
    - name: East 4
      coord: [23.9, 3.75]
    - name: South
      coord: [22.55, 5.8]

- name: In 'n Out  # MARK: In 'n Out
  on_entry: $reset_old_area(^newpos)
  data:
    save_point: Save Point
    portal_start: Portal Stand
  map:
    save: [25, 12, 26, 13]
    matrix: [25, 11, 26, 12]
  datamap:
    map_spot:
      save: Menu > Breach Map > MEB Southeast
      matrix: Menu > Breach Map > MEB In 'n Out Matrix
  spots:
    - name: Save Point
      coord: [25.325, 12.6]
      data:
        flipside: Ebih > Truck Gate > Portal Stand
      local:
        - to: Southwest
        - to: Southwest Plains
      actions:
        - name: Save
          do: $save
          tags: [save]
    - name: Southwest
      coord: [25.5, 12.8]
      local:
        - to: Save Point
          jumps: 1
        - to: Southwest Plains
          jumps: 1
      exits:
        - to: Lake Gate > North
          tags: [ydoor]
    - name: Southwest Plains
      coord: [25.7, 12.75]
      data:
        flipside: Ebih > Truck Gate > Switch
      local:
        - to: Southwest
        - to: Save Point
          jumps: 1
        - to: Mesa West
          jumps: 1
    - name: Mesa West
      coord: [26.1, 12.5]
      local:
        - to: Southwest Plains
        - to: Mesa East
      exits:
        - to: Center Rock West
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 2
        - to: Northwest Ledge
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 3
    - name: Mesa East
      coord: [26.25, 12.5]
      local:
        - to: Mesa West
        - to: South Plains
      exits:
        - to: Northwest Ledge
          req: Slingshot_Hook
          movement: base
          jumps: 2
        - to: Center Rock West
          req: Slingshot_Hook
          movement: base
          jumps: 1
        - to: Southwest
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
        - to: Save Point
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
    - name: South Plains
      coord: [26.6, 12.8]
      local:
        - to: Mesa West
          jumps: 2
        - to: Southeast Plains
      exits:
        - to: Mesa West
          req: Slingshot_Hook
          movement: base
          jumps: 1
    - name: Southeast Plains
      coord: [27.15, 12.8]
      data:
        flipside: Ebih > By Garage > Garage Entry
      local:
        - to: South Plains
        - to: Southeast Ledge
          jumps: 3
      exits:
        - to: Southeast Ledge
          req: Slingshot_Hook
          movement: base
          jumps: 1
    - name: Southeast Ledge
      coord: [27.5, 12.4]
      local:
        - to: Southeast Plains
        - to: Platform 1
          jumps: 1
      exits:
        - to: Center Rock East
          req: Slingshot_Hook
          movement: base
          jumps: 2
    - name: Platform 1
      coord: [27.75, 12.2]
      local:
        - to: Platform 2
          jumps: 1
        - to: Southeast Ledge
      exits:
        - to: Center Rock East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
        - to: Portal Stand
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 2
        - to: Gate East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 2
    - name: Platform 2
      coord: [27.65, 12.0]
      local:
        - to: Platform 1
        - to: Center Rock East
          jumps: 1
        - to: Southeast Plains
      exits:
        - to: Center Rock East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
        - to: Portal Stand
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 2
        - to: Gate East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 2
    - name: Center Rock East
      coord: [27.4, 11.9]
      data:
        flipside: Ebih > By Garage > Crawlspace Opening
      local:
        - to: Southeast Ledge
        - to: Southeast Plains
          thru: [27.45, 12.1]
        - to: Center Rock Peak
          jumps: 2
      exits:
        - to: Center Rock East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 2
        - to: Portal Stand
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 3
        - to: Gate East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 3
    - name: Center Rock Peak
      coord: [27.15, 11.55]
      local:
        - to: Center Rock East
        - to: Platform 2
        - to: Center Rock Center
        - to: Portal Stand
    - name: Center Rock Center
      coord: [26.9, 11.95]
      local:
        - to: Portal Stand
          jumps: 1
        - to: Center Rock Peak
          jumps: 3
      exits:
        - to: Portal Stand
          req: Slingshot_Hook
          movement: fast_hover
          jumps: 1
        - to: Gate East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
    - name: Portal Stand
      coord: [26.7, 11.8]
      local:
        - to: Center Rock Center
        - to: Center Rock West
      exits:
        - to: Northwest Ledge
          req: Drone_Hover
          movement: base
    - name: Center Rock West
      coord: [26.5, 12.05]
      local:
        - to: Portal Stand
          jumps: 2
        - to: Northwest Ledge
          jumps: 1
        - to: Mesa East
        - to: South Plains
      exits:
        - to: Portal Stand
          req: Slingshot_Hook
          movement: fast_hover
          jumps: 1
        - to: Northwest Ledge
          req: Slingshot_Hook
          movement: fast_hover
          jumps: 1
        - to: Gate East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
    - name: Northwest Ledge
      coord: [26.35, 11.95]
      data:
        flipside: Ebih > By Garage > West Bush
      local:
        - to: Center Rock West
        - to: Portal Stand
          jumps: 2
        - to: Mesa East
        - to: South Plains
        - to: Gate East
          jumps: 2
      exits:
        - to: Gate East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
        - to: Gate West
          req: Slingshot_Hook and Drone_Hover and Ebih_Breach_In_n_Out_Gate
          movement: fast_hover
          jumps: 1
    - name: Gate East
      coord: [25.95, 11.7]
      data:
        flipside: Ebih > Grid 25,10-12 > East 12
      local:
        - to: Northwest Ledge
      locations:
        - name: Item
          item: Power_Matrix
          tags: [standing]
      exits:
        - to: Gate West
          req: Ebih_Breach_In_n_Out_Gate
          movement: base
          jumps: 1
    - name: Gate West
      coord: [25.7, 11.55]
      local:
        - to: Button
          jumps: 2
        - to: Northwest
          jumps: 2
      exits:
        - to: Gate East
          req: Ebih_Breach_In_n_Out_Gate
          movement: base
        - to: Northwest Ledge
          req: Ebih_Breach_In_n_Out_Gate
          movement: base
        - to: Button
          req: Slingshot_Hook
          movement: fast_hover
          jumps: 1
    - name: Button
      coord: [25.45, 11.3]
      local:
        - to: Northwest
          jumps: 1
        - to: Gate West
      locations:
        - name: Hit Button
          item: Ebih_Breach_In_n_Out_Gate
          tags: [button]
    - name: Northwest
      coord: [25.5, 11.2]
      local:
        - to: Button
        - to: Gate West
      exits:
        - to: Corridor > South
          tags: [ydoor]

- name: Corridor  # MARK: Corridor
  on_entry: $reset_old_area(^newpos)
  spots:
    - name: West
      coord: [25.1, 10.7]
      local:
        - to: South
      exits:
        - to: Rocky Cages > East
          tags: [xdoor]
    - name: South
      coord: [25.5, 10.8]
      local:
        - to: West
          jumps: 1
        - to: East Tree
          jumps: 3
      exits:
        - to: In 'n Out > Northwest
          tags: [ydoor]
    - name: East Tree
      coord: [26.5, 10.6]
      local:
        - to: South
        - to: Northeast Ledge
          jumps: 2
      exits:
        - to: Northeast
          req: Slingshot_Hook
          movement: base
          jumps: 2
    - name: Northeast Ledge
      coord: [26.55, 10.3]
      local:
        - to: Northeast
          jumps: 1
        - to: East Tree
    - name: Northeast
      coord: [26.5, 10.2]
      local:
        - to: Northeast Ledge
      exits:
        - to: Corner > South
          tags: [ydoor]

- name: Lake Gate  # MARK: Lake Gate
  on_entry: $reset_old_area(^newpos)
  data:
    map_spot: Menu > Breach Map > MEB Lake Gate
  spots:
    - name: North
      coord: [25.5, 13.2]
      local:
        - to: Outside West
        - to: Outside Top
        - to: Outside Corner
      exits:
        - to: In 'n Out > Southwest
          tags: [ydoor]
    - name: Outside West
      coord: [25.325, 13.7]
      data:
        flipside: Ebih > Party Central > Portal Stand
      local:
        - to: North
          jumps: 3
        - to: Outside Top
          jumps: 2
    - name: Outside Top
      coord: [25.5, 13.35]
      data:
        flipside: Ebih > Party Central > Mid-air Between Waterfalls
      local:
        - to: North
          jumps: 1
        - to: Outside West
        - to: Outside Corner
    - name: Outside Corner
      coord: [25.75, 13.35]
      data:
        flipside: Ebih > Party Central > Mid-air East of Waterfall
      local:
        - to: North
          jumps: 1
        - to: Outside Top
        - to: Gate East
    - name: Gate East
      coord: [25.8, 13.75]
      local:
        - to: Outside Corner
          jumps: 2
      exits:
        - to: Button
          req: Ebih_Breach_Lake_Gate
          movement: base
    - name: Button
      coord: [25.6, 13.75]
      data:
        flipside: Ebih > Party Central > Below Waterfall
      local:
        - to: Interior
        - to: South
      locations:
        - name: Hit Button
          canon: Ebih_Breach_Lake_Gate
          item: Ebih_Breach_Lake_Gate
          tags: [button]
      exits:
        - to: Gate East
          req: Ebih_Breach_Lake_Gate
          movement: base
        - to: Gate East
          req: Slingshot_Hook and Ebih_Breach_Lake_Gate
          movement: fast_hover
    - name: Interior
      coord: [25.5, 13.75]
      data:
        flipside: Ebih > Party Central > Below Between Waterfalls
      local:
        - to: South
        - to: Button
      locations:
        - name: Hit Button From Afar
          canon: Ebih_Breach_Lake_Gate
          item: Ebih_Breach_Lake_Gate
          tags: [button]
      exits:
        - to: Gate East
          req: Slingshot_Hook and Ebih_Breach_Lake_Gate
          movement: fast_hover
    - name: South
      coord: [25.5, 13.8]
      local:
        - to: Interior
          jumps: 1
        - to: Button
          jumps: 1
      exits:
        - to: Amagi Breach > West Entrance > North
          tags: [ydoor]

- name: Bubble Bobble  # MARK: Bubble Bobble
  on_entry: $reset_old_area(^newpos)
  spots:
    - name: East 11
      coord: [27.9, 10.55]
      local:
        - to: Tree
          jumps: 5
      exits:
        - to: Tree
          req: Slingshot_Hook
          jumps: 2
        - to: Glacier Breach > Spidery Connector > West
          tags: [xdoor]
    - name: Tree
      coord: [27.6, 9.8]
      local:
        - to: East 11
        - to: West 10
          jumps: 2
        - to: Lower Row Right
          jumps: 2
      exits:
        - to: Lower Row Right
          req: Slingshot_Hook
          movement: fast_hover
          jumps: 2
        - to: West 10
          req: Slingshot_Hook
          movement: base
          jumps: 1
        - to: West 10
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
    - name: West 10
      coord: [27.1, 9.75]
      local:
        - to: Tree
          jumps: 1
      exits:
        - to: Corner > East
          tags: [xdoor]
    - name: Lower Row Right
      coord: [27.85, 9.45]
      local:
        - to: Tree
        - to: Lower Row Left
          jumps: 2
    - name: Lower Row Left
      coord: [27.4, 9.025]
      local:
        - to: West 10
        - to: Tree
          thru: [27.4, 9.3]
        - to: Lower Row Right
        - to: Upper Ledge
          thru: [[27.35, 8.85], [27.675, 8.45], [27.325, 8.05], [27.675, 7.65], [27.325, 7.25], [27.45, 7.05]]
          jumps: [1, 2, 2, 2, 2, 1, 1]
    - name: Upper Ledge
      coord: [27.35, 6.8]
      local:
        - to: West 7
          jumps: 1
        - to: Lower Row Left
      exits:
        - to: Spider Guards > East Spider
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
          penalty_tags: [xdoor, -fast_hover.1]
    - name: West 7
      coord: [27.1, 6.75]
      local:
        - to: Upper Ledge
      exits:
        - to: Spider Guards > East
          tags: [xdoor]

- name: Corner  # MARK: Corner
  on_entry: $reset_old_area(^newpos)
  spots:
    - name: East
      coord: [26.9, 9.75]
      local:
        - to: South
      exits:
        - to: Bubble Bobble > West 10
          tags: [xdoor]
    - name: South
      coord: [26.5, 9.8]
      local:
        - to: East
          jumps: 1
      exits:
        - to: Corridor > Northeast
          tags: [ydoor]

- name: Spider Guards  # MARK: Spider Guards
  on_entry: $reset_old_area(^newpos)
  map:
    flask: [25, 6, 26, 7]
    button: [23, 6, 24, 7]
  datamap:
    map_spot:
      flask: Menu > Breach Map > MEB Spider Guards Flask
      button: Menu > Breach Map > MEB Spider Guards Button
  spots:
    - name: East
      coord: [26.9, 6.75]
      local:
        - to: East Spider
      exits:
        - to: Bubble Bobble > West 7
          tags: [xdoor]
    - name: East Spider
      coord: [26.5, 6.75]
      local:
        - to: East
        - to: East Sand Pit East
    - name: East Sand Pit East
      coord: [25.8, 6.75]
      local:
        - to: East Spider
        - to: East Sand Pit
      exits:
        - to: East Sand Pit
          req: Slingshot_Hook
          movement: fast_hover
        - to: East Sand Pit Mid-air
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
    - name: East Sand Pit
      coord: [25.525, 6.75]
      local:
        - to: East Sand Pit East
        - to: East Sand Pit Mid-air
          jumps: 1
        - to: East Sand Pit West Platform
          jumps: 2
      locations:
        - name: Flask
          canon: Ebih_Breach_Spider_Guards_Flask
          item: Flask
          tags: [flask]
        - name: Flask Collection Skip
          canon: Ebih_Breach_Spider_Guards_Flask
          item: Flask
          to: Menu > Warp Only > Breach
          tags: [cskip]
        - name: Flask Fast Travel
          canon: Ebih_Breach_Spider_Guards_Flask
          item: Flask
          req: Fast_Travel
          to: ^map_spot
          tags: [cskip]
    - name: East Sand Pit Mid-air
      coord: [25.45, 6.6]
      local:
        - to: East Sand Pit
      exits:
        - to: Center Hover End
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
    - name: East Sand Pit West Platform
      coord: [25.2, 6.5]
      local:
        - to: East Sand Pit
      exits:
        - to: Center Hover End
          req: Drone_Hover and Nanite_Mist
          movement: base
          price: 20  # restart
          jumps: 1
          penalties:
            - add: 0.5
    - name: Center Hover End
      coord: [24.2, 6.35]
      exits:
        - to: Center Re-hover Start
          req: Nanite_Mist
          movement: mist1
        - to: Center Re-hover Start
          req: $mist2
          movement: mist2
    - name: Center Re-hover Start
      coord: [24.15, 6.3]
      exits:
        - to: Center Above Door
          req: Drone_Hover
          movement: base
          jumps: 1
        - to: South
          req: Drone_Hover
          movement: base
          penalties:
            - add: 2  # evading or damage-boosting through a spider
    - name: Center Above Door
      coord: [23.55, 6.25]
      local:
        - to: South
      exits:
        - to: Button
          req: Drone_Hover
          movement: base
    - name: South
      coord: [23.5, 6.8]
      local:
        - to: Button
          jumps: 1
      exits:
        - to: Double Gate > North
          tags: [ydoor]
    - name: Button
      coord: [23.025, 6.7]
      local:
        - to: South
      locations:
        - name: Open Gate
          item: Ebih_Breach_Spider_Guards_Gate
          tags: [button]
      exits:
        - to: Northwest
          req: Ebih_Breach_Spider_Guards_Gate
          movement: base
          jumps: 3
        - to: Northwest
          req: Ebih_Breach_Spider_Guards_Gate and Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 3
    - name: Northwest
      coord: [22.55, 6.2]
      exits:
        - to: Button
          req: Ebih_Breach_Spider_Guards_Gate
          movement: base
        - to: Snowy Rocks > South
          tags: [ydoor]

- name: Double Gate  # MARK: Double Gate
  on_entry: $reset_old_area(^newpos)
  data:
    portal_start: Portal Stand
  spots:
    - name: North
      coord: [23.5, 7.2]
      local:
        - to: Portal Stand
        - to: Grate East
          thru: [23.5, 7.5]
        - to: Upper Right Corner
      exits:
        - to: Spider Guards > South
          tags: [ydoor]
    - name: Portal Stand
      coord: [23.5, 7.75]
      local:
        - to: Grate East
        - to: Button Left
        - to: Upper Right Corner
          jumps: 2
        - to: North
          jumps: 3
      exits:
        - to: North
          req: Slingshot_Hook
          movement: base
          jumps: 2
        - to: Upper Right Corner
          req: Slingshot_Hook
          movement: fast_hover
          jumps: 1
    - name: Grate East
      coord: [23.325, 7.8]
      local:
        - to: Portal Stand
          jumps: 1
      exits:
        - to: Grate West
          req: Nanite_Mist
          movement: mist1
        - to: Grate West
          req: $mist2
          movement: mist2
    - name: Grate West
      coord: [23.225, 7.8]
      local:
        - to: West
          jumps: 1
      exits:
        - to: The Vault > Pipe Gap East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          penalty_tags: [xdoor, -fast_hover.2]
        - to: The Vault > Northwest Mid-air
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
          jumps: 1
          penalty_tags: [xdoor, -fast_hover.2]
        - to: Grate East
          req: Nanite_Mist
          movement: mist1
        - to: Grate East
          req: $mist2
          movement: mist2
    - name: West
      coord: [23.1, 7.75]
      local:
        - to: Grate West
      exits:
        - to: The Vault > East
          tags: [xdoor]

    - name: Upper Right Corner
      coord: [23.8, 7.4]
      local:
        - to: Portal Stand
        - to: Button Right
        - to: North
          jumps: 2
      exits:
        - to: Below Gate
          req: Ebih_Breach_Double_Gate_Gate
          movement: base
    - name: Button Left
      coord: [23.625, 7.9]
      local:
        - to: Portal Stand
          jumps: 1
        - to: Button Right
      locations:
        - name: Open Gate
          canon: Ebih_Breach_Double_Gate_Gate
          item: Ebih_Breach_Double_Gate_Gate
          tags: [button]
    - name: Button Right
      coord: [23.75, 7.9]
      local:
        - to: Button Left
      locations:
        - name: Open Gate
          canon: Ebih_Breach_Double_Gate_Gate
          item: Ebih_Breach_Double_Gate_Gate
          tags: [button]
      exits:
        - to: Below Gate
          req: Ebih_Breach_Double_Gate_Gate
          movement: base
    - name: Below Gate
      coord: [23.9, 8.3]
      local:
        - to: South
          thru: [23.7, 8.4]
      exits:
        - to: Button Right
          req: Ebih_Breach_Double_Gate_Gate and Slingshot_Hook
          movement: base
          jumps: 2
    - name: South
      coord: [23.5, 8.8]
      local:
        - to: Below Gate
          thru: [23.7, 8.4]
          jumps: [2, 1]
      exits:
        - to: Below Gate
          req: Slingshot_Hook
          movement: base
          jumps: 2
        - to: Rocky Cages > Northeast
          tags: [ydoor]

- name: The Vault  # MARK: The Vault
  on_entry: $reset_old_area(^newpos)
  map:
    urn: [21, 8, 22, 9]
  datamap:
    map_spot:
      urn: Menu > Breach Map > Slingshot Weapon
  spots:
    - name: East
      coord: [22.9, 7.75]
      data:
        flipside: Ebih > Waterfall > Center Main Path
      local:
        - to: Pipe Gap East
      exits:
        - to: Center Hill
          req: Drone_Hover
          movement: base
          jumps: 1
        - to: Double Gate > West
          tags: [xdoor]
    - name: Pipe Gap East
      coord: [22.6, 7.95]
      local:
        - to: Pipe Gap West
        - to: East
          jumps: 1
        - to: South
          thru: [22.45, 8.4]
    - name: Pipe Gap West
      coord: [22.525, 7.95]
      local:
        - to: Center Hill
          jumps: 1
        - to: Pipe Gap East
        - to: South
          thru: [22.45, 8.4]
    - name: Center Hill
      coord: [22.35, 7.7]
      local:
        - to: West Hill Hook Point  # TODO: The enemy makes this difficult
        - to: Pipe Gap West
    - name: Northwest Mid-air
      coord: [21.8, 7.65]
      local:
        - to: West Hill Hook Point
    - name: West Hill Hook Point
      coord: [21.75, 7.9]
      local:
        - to: Dais East
      exits:
        - to: Pipe Gap East
          req: Slingshot_Hook and Drone_Hover
          movement: fast_hover
    - name: Dais East
      coord: [21.65, 8.7]
      local:
        - to: Dais Center
      exits:
        - to: West Hill Hook Point
          req: Slingshot_Hook
          movement: base
          jumps: 3
    - name: Dais Center
      coord: [21.45, 8.7]
      data:
        flipside: Ebih > Waterfall > West Mid-air Between Trees
      local:
        - to: Southwest Corner
        - to: Dais East
      locations:
        - name: Urn
          canon: Slingshot_Weapon
          item: Slingshot_Weapon
          tags: [urn]
        - name: Urn Collection Skip
          canon: Slingshot_Weapon
          item: Slingshot_Weapon
          to: Menu > Warp Only > Breach
          tags: [cskip]
        - name: Urn Fast Travel
          canon: Slingshot_Weapon
          item: Slingshot_Weapon
          req: Fast_Travel
          to: ^map_spot
          tags: [cskip]
    - name: Southwest Corner
      coord: [21.2, 8.8]
      data:
        flipside: Ebih > Waterfall > West Grassy Plains
      local:
        - to: Dais Center
          jumps: 1
      exits:
        - to: Dais Center
          req: Slingshot_Hook
          movement: fast_hover
          jumps: 1

    - name: South
      coord: [22.5, 8.8]
      exits:
        - to: Pipe Gap East
          req: Slingshot_Hook
          movement: base
          jumps: 2
        - to: Pipe Gap West
          req: Slingshot_Hook
          movement: base
          jumps: 2
        - to: Rocky Cages > Cage North
          tags: [ydoor]

- name: Rocky Cages  # MARK: Rocky Cages
  on_entry: $reset_old_area(^newpos)
  map:
    flask: [22, 9, 23, 10]
  datamap:
    map_spot:
      flask: Menu > Breach Map > MEB Rocky Cages Flask
  spots:
    - name: East
      coord: [24.9, 10.7]
    - name: Northeast
      coord: [23.5, 9.2]
    - name: Cage North
      coord: [22.5, 9.2]
      local:
        - to: Cage Bottom
      exits:
        - to: The Vault > South
          tags: [ydoor]
    - name: Cage Bottom
      coord: [22.425, 9.75]
      data:
        flipside: Ebih > Waterfall > West Waterfall Mid-air Tier 2
      locations:
        - name: Flask
          canon: Ebih_Breach_Rocky_Cages_Flask
          item: Flask
          tags: [flask]
        - name: Flask Collection Skip
          canon: Ebih_Breach_Rocky_Cages_Flask
          item: Flask
          to: Menu > Warp Only > Breach
          tags: [cskip]
        - name: Flask Fast Travel
          canon: Ebih_Breach_Rocky_Cages_Flask
          item: Flask
          req: Fast_Travel
          to: ^map_spot
